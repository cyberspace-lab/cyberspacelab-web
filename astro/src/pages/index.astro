---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import TeamListHome from '../components/TeamListHome.vue';
import FaqAccordeon from '../components/FaqAccordeon.vue';
import siteConfig from '../config';
import { Image } from 'astro:assets';

// Get members, sort by order, and limit to 4
const members = await getCollection('members', ({ data }) => {
  // return all members
  return data;
});

const sortedMembers = members
  .sort((a, b) => a.data.order - b.data.order)
  .slice(0, 4)
  .map(member => ({
    id: member.id,
    slug: member.data.slug,
    title: member.data.title,
    description: member.data.description,
    social: member.data.social,
    featuredImage: member.data.featuredImage
  }));


const frontmatter = {
  title: "Welcome",
  subtitle: "Welcome",
  tagline: "Welcome",
  description: "Welcome",
faq: [
  ["Can I do an internship or work-study program with your research group?", "Yes, we  offer internship and work-study opportunities for undergraduate and graduate students. Please contact us directly for more information about current opportunities."],
  ["What skills or qualifications do I need to work with your research group?", "We welcome students from a variety of backgrounds and disciplines, including psychology, neuroscience, computer science, engineering, and more. Strong analytical skills, attention to detail, and an interest in spatial navigation and virtual reality are all important for success."],
  ["Can I participate in your research?", "We are always looking for participants for our research studies! If you are interested in participating, please follow our social media where we post upcomming opportunities or contact us using the information provided on our website."],
  ["Can your research group provide training or workshops?", "Yes, we can provide training and workshops on a variety of topics related to virtual reality, and cognitive performance. Please contact us to learn more."],
  ["How can I learn more about your research group?", "You can learn more about our group and our ongoing projects by exploring our website and following us on social media. We also welcome inquiries from individuals and organizations interested in collaborating with us."]
]
}
---

<Layout title="Welcome">
    <section class="banner-style-four" style={{ backgroundImage: `url("../assets/images/banner/banner.png")` }}>
        <div class="auto-container">
            <div class="row align-items-center clearfix">
                <div class="col-xl-6 col-lg-12 col-md-12 offset-xl-3 content-column">
                    <div class="content-box" style={{ textAlign: "center"}}>
                        <h2 style={{ textAlign: "center"}}>{frontmatter.subtitle}</h2>
                        <h1 style={{ textAlign: "center"}}>{frontmatter.title}</h1>
                        <p style={{ textAlign: "center"}}>{frontmatter.tagline}</p>
                        <a href="/projects" style={{ textAlign: "center"}} class="main-button">Projects</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="about-style-two">
        <div class="pattern-layer" style={{ backgroundImage: `url("../assets/images/shape/shape-6.png")`}}></div>
        <div class="auto-container">
            <div class="row clearfix">
                <div class="col-lg-6 col-md-12 col-sm-12 content-column">
                    <div id="content_block_05">
                        <div class="content-box">
                            <div class="sec-title left">
                                <h2>About Us</h2>
                                <span class="separator"></span>
                            </div>
                            <div class="text">
                                {frontmatter.description}
                            </div>
                            <div class="inner-box clearfix">
                                <div class="single-item">
                                    <div class="box">
                                        <div class="icon-box"><i class="flaticon-play"></i></div>
                                        <h4>Virtual reality</h4>
                                    </div>
                                </div>
                                <div class="single-item">
                                    <div class="box">
                                        <div class="icon-box"><i class="flaticon-planet-earth"></i></div>
                                        <h4>Spatial navigation</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="btn-box">
                                <a href="/about" class="theme-btn style-one">More About Us</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-12 col-sm-12 video-column">
                    <figure class="image-box">
                        <Image src={import("../assets/images/pages/index/team2.jpg")} alt="" /> 
                    </figure>
                </div>
            </div>
        </div>
    </section>
    <TeamListHome data={sortedMembers} client:only="vue" />
    <section class="faq-section">
        <div class="pattern-layer" style={{backgroundImage: `url("../assets/images/shape/shape-8.png")`}}></div>
        <div class="auto-container">
            <div class="row clearfix">
                <div class="col-lg-6 col-md-12 col-sm-12 image-column faq-image">
                    <Image src={import("../assets/images/pages/index/isometric.png")} alt=""/>
                </div>
                <div class="col-lg-6 col-md-12 col-sm-12 content-column">
                    <div id="content_block_06">
                        <div class="content-box">
                            <div class="sec-title left">
                                <h2>FAQ</h2>
                                <span class="separator"></span>
                                <FaqAccordeon arr={frontmatter.faq}/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</Layout> 